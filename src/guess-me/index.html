<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
      font-family: 'Arial', sans-serif;
    }

    #counter {
      font-size: 2em;
      font-weight: bold;
      color: #333;
      margin-bottom: 10px;
    }

    #guessInput {
      margin-right: 10px;
    }
  </style>
  <title>Guessing Game</title>
</head>
<body>
  <div>
    <label for="guessInput">Enter your guess:</label>
    <input type="number" id="guessInput" min="1" max="100">
    <button onclick="submitGuess()">Submit Guess</button>
    <div id="counter">0</div>
  </div>

  <script>
    let secretNumber;
    let countingInterval;

    function startCounting() {
      countingInterval = setInterval(updateCounter, 10);
    }

    function stopCounting() {
      clearInterval(countingInterval);
    }

    function submitGuess() {
      // Stop the counting when the user submits a guess
      stopCounting();

      // Get user's guess
      const guessedNumber = parseInt(document.getElementById('guessInput').value, 10);

      // Display the secret number immediately
      document.getElementById('counter').textContent = secretNumber;

      // Check if the guess is correct
      if (guessedNumber === secretNumber) {
        alert('Congratulations! You guessed the correct number.');
      } else {
        alert(`Sorry, the correct number was ${secretNumber}. Try again!`);
      }

      // Generate a new secret number for the next round
      secretNumber = Math.floor(Math.random() * 100) + 1;

      // Reset the counter and start counting again
      document.getElementById('counter').textContent = '0';
      startCounting();
    }

    function updateCounter() {
      const counterElement = document.getElementById('counter');
      const currentNumber = parseInt(counterElement.textContent, 10);
      const randomIncrement = Math.floor(Math.random() * 3) + 1; // Random increment between 1 and 3

      // Randomly increment or decrement the counter
      const newNumber = Math.random() < 0.5 ? currentNumber + randomIncrement : currentNumber - randomIncrement;

      // Ensure the new number is within the range of 1 to 100
      counterElement.textContent = Math.min(100, Math.max(1, newNumber));
    }

    // Generate a secret number between 1 and 100 for the first round
    secretNumber = Math.floor(Math.random() * 100) + 1;

    // Start counting animation for the first round
    startCounting();
  </script>
</body>
</html>
